!function(t){"use strict";function e(t,e,n,i){return t/=i,t--,-n*(t*t*t*t-1)+e}t.fn.initslide=function(n){function i(t){o.children(":nth-child("+(o.data("settings").currentIndex+1)+")").attr("id",""),c.currentIndex=t,o.children(":nth-child("+(o.data("settings").currentIndex+1)+")").attr("id","active")}function s(t){for(var e=0;e<o.children("li").length;e++)if(o.children(e).width()*e+o.children(e).width()/2-o.children(e).width()*o.data("settings").pan_threshold*d>t)return e;return o.children("li").length-1}function a(t){if(!(t>=o.children("li").length||0>t)){i(t);var e=o.parent().scrollLeft();o.data("settings").currentPos=-e,o.data("settings").currentLandPos=-(t*o.children("li").width()-(o.parent().width()-o.data("settings").initialLeft-o.children("li").width())/2)-o.children("li").width(),console.log(o.data("settings").currentLandPos),o.data("settings").countFrames=0,o.trigger("changeActiveItem"),cancelAnimationFrame(o.data("settings").slidesGlobalID),o.data("settings").slidesGlobalID=requestAnimationFrame(r)}}function r(){return o.trigger("changePos"),o.data("settings").currentPos-=e(o.data("settings").countFrames,0,o.data("settings").currentPos-o.data("settings").currentLandPos,o.data("settings").duration),o.data("settings").currentPos==o.data("settings").currentLandPos?void(o.data("settings").countFrames=0):(o.parent().scrollLeft(-o.data("settings").currentPos),o.data("settings").countFrames++,void(o.data("settings").slidesGlobalID=requestAnimationFrame(r)))}var d=0,l={duration:250,swipe_sensitivity:250,disable_slide:!1,disable_autowidth:!1,disable_scroll:!1,start:0,pan_threshold:.3,currentIndex:0,currentPos:0,begin:0,targetFrame:0,countFrames:0,currentLandPos:0,initialLeft:0,slidesGlobalID:0},c=t.extend({},l,n);this.data("settings",c);var o=t(this);o.data("settings").initialLeft=parseInt(o.css("left").replace("px","")),c.disable_autowidth||(o.css("width",o.children("li").length*o.children("li").width()+o.children("li").width()),o.css("left",o.children("li").width())),o.css("-webkit-transform","translate3d(0px,0px, 0px)"),o.css("-moz-transform","translate3d(0px,0px, 0px)"),o.css("-ms-transform","translate3d(0px,0px, 0px)"),a(c.start);var h=new Hammer(o.get(0));h.on("panleft panright",function(t){d="panleft"==t.type?1:-1,c.disable_slide||(o.parent().scrollLeft(-(t.deltaX+o.data("settings").currentLandPos)),o.trigger("pan"),o.trigger("changePos"),cancelAnimationFrame(o.data("settings").slidesGlobalID))}),h.on("panend",function(t){if(!c.disable_slide){var e=-o.parent().scrollLeft()+o.children("li").width();a(s(t.velocityX*c.swipe_sensitivity-e))}}),o.children("li").mousedown(function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}),o.tapEvent();try{o.mousewheel(function(t){o.data("settings").disable_scroll||a(o.data("settings").currentIndex-t.deltaY)})}catch(g){}o.on("gotoSlide",function(t,e){a(e)})},t.fn.gotoSlide=function(t){this.trigger("gotoSlide",t)},t.fn.next=function(){this.gotoSlide(this.data("settings").currentIndex+1)},t.fn.previous=function(){this.gotoSlide(this.data("settings").currentIndex-1)},t.fn.reload=function(){this.data("settings").disable_autowidth||(this.css("width",this.children("li").length*this.children("li").width()+this.children("li").width()),this.css("left",this.children("li").width())),this.gotoSlide(this.data("settings").currentIndex)},t.fn.addSlide=function(t){this.append(t),this.tapEvent()},t.fn.removeSlide=function(t){this.children(":nth-child("+(t+1)+")").remove()},t.fn.getActiveIndex=function(){return this.data("settings").currentIndex},t.fn.getCurrentPos=function(){var t=slides.parent().scrollLeft();return t},t.fn.tapEvent=function(){var e=this;try{e.children("li").hammer().bind("tap",function(){t(this).index()!=e.data("settings").currentIndex&&e.gotoSlide(t(this).index())})}catch(n){}}}(jQuery);

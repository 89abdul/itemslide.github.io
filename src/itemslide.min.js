(function(e){"use strict";function t(e){return e.substr(7,e.length-8).split(", ")}function n(e,t,n,r){e/=r;e--;return-n*(e*e*e*e-1)+t}e.fn.initslide=function(r){function l(e){o.children(":nth-child("+(o.data("settings").currentIndex+1)+")").attr("id","");s.currentIndex=e;o.children(":nth-child("+(o.data("settings").currentIndex+1)+")").attr("id","active")}function c(e){for(var t=0;t<o.children("li").length;t++){if(o.children(t).css("width").replace("px","")*t+o.children(t).css("width").replace("px","")/2>e){return t}}return o.children("li").length-1}function h(n){if(n>=o.children("li").length||n<0)return;l(n);var r=-(n*o.children("li").css("width").replace("px","")-(e("html").css("width").replace("px","")-o.data("settings").initialLeft-o.children("li").css("width").replace("px",""))/2);var i=t(o.css("transform"));var s=parseFloat(i[4]);o.data("settings").currentPos=s;o.data("settings").currentLandPos=-(n*o.children("li").css("width").replace("px","")-(e("html").css("width").replace("px","")-o.data("settings").initialLeft-o.children("li").css("width").replace("px",""))/2);o.data("settings").countFrames=0;o.trigger("changeActiveItem");cancelAnimationFrame(o.data("settings").slidesGlobalID);o.data("settings").slidesGlobalID=requestAnimationFrame(p)}function p(){o.trigger("changePos");o.data("settings").currentPos-=n(o.data("settings").countFrames,0,o.data("settings").currentPos-o.data("settings").currentLandPos,o.data("settings").duration);if(o.data("settings").currentPos==o.data("settings").currentLandPos){o.data("settings").countFrames=0;return}o.css("transform","translate3d("+o.data("settings").currentPos+"px"+",0px, 0px)");o.data("settings").countFrames++;o.data("settings").slidesGlobalID=requestAnimationFrame(p)}var i={duration:250,swipe_sensitivity:250,disable_slide:false,disable_autowidth:false,disable_scroll:false,start:0,currentIndex:0,currentPos:0,begin:0,targetFrame:0,countFrames:0,currentLandPos:0,initialLeft:0,slidesGlobalID:0};var s=e.extend({},i,r);this.data("settings",s);var o=e(this);o.data("settings").initialLeft=parseInt(o.css("left").replace("px",""));if(!s.disable_autowidth)o.css("width",o.children("li").length*o.children("li").css("width").replace("px","")+10);o.css("transform","translate3d(0px,0px, 0px)");h(s.start);var u=new Hammer(o.get(0));var a=false;u.on("panleft panright",function(e){if(!s.disable_slide){o.css("transform","translate3d("+(e.deltaX+o.data("settings").currentLandPos)+"px"+",0px, 0px)");o.trigger("pan");o.trigger("changePos");cancelAnimationFrame(o.data("settings").slidesGlobalID)}});u.on("panend",function(e){if(!s.disable_slide){var n=t(o.css("transform"));var r=parseFloat(n[4]);h(c(e.velocityX*s.swipe_sensitivity-r));a=true}});o.children("li").mousedown(function(e){if(window.getSelection){if(window.getSelection().empty){window.getSelection().empty()}else if(window.getSelection().removeAllRanges){window.getSelection().removeAllRanges()}}else if(document.selection){document.selection.empty()}});try{o.children("li").hammer().bind("tap",function(t){if(e(this).index()!=o.data("settings").currentIndex){h(e(this).index())}})}catch(f){}try{o.mousewheel(function(e){if(!o.data("settings").disable_scroll)h(o.data("settings").currentIndex-e.deltaY)})}catch(f){}o.on("gotoSlide",function(e,t){h(t)})};e.fn.gotoSlide=function(e){this.trigger("gotoSlide",e)};e.fn.next=function(){this.gotoSlide(this.data("settings").currentIndex+1)};e.fn.previous=function(){this.gotoSlide(this.data("settings").currentIndex-1)};e.fn.reload=function(){if(!this.data("settings").disable_autowidth)this.css("width",this.children("li").length*this.children("li").css("width").replace("px","")+10);this.gotoSlide(this.data("settings").currentIndex)};e.fn.getActiveIndex=function(){return this.data("settings").currentIndex};e.fn.getCurrentPos=function(){var e=t(this.css("transform"));var n=parseFloat(e[4]);return n}})(jQuery)

/*Requires jQuery*/
(function(d){var b=false||!!document.documentMode;d.fn.initslide=function(u){var r=0;var k={duration:250,swipe_sensitivity:250,disable_slide:false,disable_autowidth:false,disable_scroll:false,start:0,one_item:false,pan_threshold:0.3,currentIndex:0,currentPos:0,begin:0,targetFrame:0,countFrames:0,currentLandPos:0,initialLeft:0,slidesGlobalID:0};var j=d.extend({},k,u);this.data("settings",j);var f=d(this);f.data("settings").initialLeft=parseInt(f.css("left").replace("px",""));f.css({"touch-action":"pan-y","-webkit-user-select":"none","-webkit-touch-callout":"none","-webkit-user-drag":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"});if(!j.disable_autowidth){f.css("width",f.children("li").length*f.children("li").width()+10)}f.translate3d(0);h(j.start);var m=false;var g=0;var i=0;var p;var l;f.on("mousedown touchstart","li",function(v){if(!j.disable_slide){if(v.type=="touchstart"){l=v.originalEvent.touches[0]||v.originalEvent.changedTouches[0]}else{l=v}i=Date.now();m=true;g=l.pageX;p=d(this);if(window.getSelection){if(window.getSelection().empty){window.getSelection().empty()}else{if(window.getSelection().removeAllRanges){window.getSelection().removeAllRanges()}}}else{if(document.selection){document.selection.empty()}}}});d(window).on("mousemove touchmove",function(w){if(!j.disable_slide){if(m){w.preventDefault();if(w.type=="touchmove"){l=w.originalEvent.touches[0]||w.originalEvent.changedTouches[0]}else{l=w}f.trigger("changePos");f.translate3d(l.pageX-g+f.data("settings").currentLandPos);var v=-(l.pageX-g);if(v>0){r=1}else{r=-1}if((l.pageX-g)*r<12*(-1)){cancelAnimationFrame(f.data("settings").slidesGlobalID)}}}});d(window).on("mouseup touchend",function(y){if(!j.disable_slide){if(y.type=="touchend"){l=y.originalEvent.touches[0]||y.originalEvent.changedTouches[0]}else{l=y}m=false;var x=f.translate3d();var v=(Date.now()-i);var w=-(l.pageX-g)/v;if(w>0){r=1}else{r=-1}if((l.pageX-g)*r<12*(-1)){h(t(w*j.swipe_sensitivity-x))}else{if(p.index()!=f.data("settings").currentIndex){h(p.index())}}}});try{f.mousewheel(function(v){if(!f.data("settings").disable_scroll){var e=f.data("settings").currentIndex-v.deltaY;if(e>=f.children("li").length||e<0){return}h(e);v.preventDefault()}})}catch(o){}f.on("gotoSlide",function(w,v){h(v)});function q(e){f.children(":nth-child("+(f.data("settings").currentIndex+1)+")").attr("id","");j.currentIndex=e;f.children(":nth-child("+(f.data("settings").currentIndex+1)+")").attr("id","active")}function t(e){for(var v=0;v<f.children("li").length;v++){if(f.children(v).width()*v+f.children(v).width()/2-f.children(v).width()*f.data("settings").pan_threshold*r-s(0)>e){if(!j.one_item){return v}else{if(v!=f.data("settings").currentIndex){return f.data("settings").currentIndex+1*r}else{return f.data("settings").currentIndex}}}}return j.one_item?f.data("settings").currentIndex+1:f.children("li").length-1}function s(e){return -(e*f.children("li").width()-((f.parent().width()-f.data("settings").initialLeft-f.children("li").width())/2))}function h(e){if(e>=f.children("li").length||e<0){e=Math.min(Math.max(e,0),f.children("li").length-1)}q(e);f.data("settings").currentPos=f.translate3d();f.data("settings").currentLandPos=s(e);f.data("settings").countFrames=0;f.trigger("changeActiveItem");cancelAnimationFrame(f.data("settings").slidesGlobalID);f.data("settings").slidesGlobalID=requestAnimationFrame(n)}function n(){f.trigger("changePos");f.data("settings").currentPos-=c(f.data("settings").countFrames,0,f.data("settings").currentPos-f.data("settings").currentLandPos,f.data("settings").duration);if(f.data("settings").currentPos==f.data("settings").currentLandPos){f.data("settings").countFrames=0;return}f.translate3d(f.data("settings").currentPos);f.data("settings").countFrames++;f.data("settings").slidesGlobalID=requestAnimationFrame(n)}};d.fn.gotoSlide=function(e){this.trigger("gotoSlide",e)};d.fn.next=function(){this.gotoSlide(this.data("settings").currentIndex+1)};d.fn.previous=function(){this.gotoSlide(this.data("settings").currentIndex-1)};d.fn.reload=function(){if(!this.data("settings").disable_autowidth){this.css("width",this.children("li").length*this.children("li").width()+10)}this.gotoSlide(this.data("settings").currentIndex)};d.fn.addSlide=function(e){this.append("<li>"+e+"</li>");this.reload()};d.fn.removeSlide=function(e){this.children(":nth-child("+(e+1)+")").remove()};d.fn.getActiveIndex=function(){return this.data("settings").currentIndex};d.fn.getCurrentPos=function(){return this.translate3d()};d.fn.translate3d=function(e){if(e==null){var f=a(this.css("transform"));return b?parseFloat(f[12]):parseFloat(f[4])}else{this.css("transform","translate3d("+e+"px,0px, 0px)")}};function a(e){return e.substr(7,e.length-8).split(", ")}function c(f,e,h,g){f/=g;f--;return -h*(f*f*f*f-1)+e}})(jQuery);

(function(e){"use strict";function n(e){return e.substr(7,e.length-8).split(", ")}function r(e,t,n,r){e/=r;e--;return-n*(e*e*e*e-1)+t}function i(){var e=window.navigator.userAgent;var t=e.indexOf("MSIE ");if(t>0||!!navigator.userAgent.match(/Trident.*rv\:11\./))return true;else return false}var t=false;t=i();e.fn.initslide=function(i){function c(e){u.children(":nth-child("+(u.data("settings").currentIndex+1)+")").attr("id","");o.currentIndex=e;u.children(":nth-child("+(u.data("settings").currentIndex+1)+")").attr("id","active")}function h(e){for(var t=0;t<u.children("li").length;t++){if(u.children(t).css("width").replace("px","")*t+u.children(t).css("width").replace("px","")/2>e){return t}}return u.children("li").length-1}function p(e){if(e>=u.children("li").length||e<0)return;c(e);var r=n(u.css("transform"));var i;if(!t){i=parseFloat(r[4])}else{i=parseFloat(r[12])}u.data("settings").currentPos=i;u.data("settings").currentLandPos=-(e*u.children("li").css("width").replace("px","")-(u.parent().css("width").replace("px","")-u.data("settings").initialLeft-u.children("li").css("width").replace("px",""))/2);u.data("settings").countFrames=0;u.trigger("changeActiveItem");cancelAnimationFrame(u.data("settings").slidesGlobalID);u.data("settings").slidesGlobalID=requestAnimationFrame(d)}function d(){u.trigger("changePos");u.data("settings").currentPos-=r(u.data("settings").countFrames,0,u.data("settings").currentPos-u.data("settings").currentLandPos,u.data("settings").duration);if(u.data("settings").currentPos==u.data("settings").currentLandPos){u.data("settings").countFrames=0;return}u.css("transform","translate3d("+u.data("settings").currentPos+"px"+",0px, 0px)");u.data("settings").countFrames++;u.data("settings").slidesGlobalID=requestAnimationFrame(d)}var s={duration:250,swipe_sensitivity:250,disable_slide:false,disable_autowidth:false,disable_scroll:false,start:0,currentIndex:0,currentPos:0,begin:0,targetFrame:0,countFrames:0,currentLandPos:0,initialLeft:0,slidesGlobalID:0};var o=e.extend({},s,i);this.data("settings",o);var u=e(this);u.data("settings").initialLeft=parseInt(u.css("left").replace("px",""));if(!o.disable_autowidth)u.css("width",u.children("li").length*u.children("li").css("width").replace("px","")+10);u.css("transform","translate3d(0px,0px, 0px)");p(o.start);var a=new Hammer(u.get(0));var f=false;a.on("panleft panright",function(e){if(!o.disable_slide){u.css("transform","translate3d("+(e.deltaX+u.data("settings").currentLandPos)+"px"+",0px, 0px)");u.trigger("pan");u.trigger("changePos");cancelAnimationFrame(u.data("settings").slidesGlobalID)}});a.on("panend",function(e){if(!o.disable_slide){var r=n(u.css("transform"));var i;if(!t){i=parseFloat(r[4])}else{i=parseFloat(r[12])}p(h(e.velocityX*o.swipe_sensitivity-i));f=true}});u.children("li").mousedown(function(e){if(window.getSelection){if(window.getSelection().empty){window.getSelection().empty()}else if(window.getSelection().removeAllRanges){window.getSelection().removeAllRanges()}}else if(document.selection){document.selection.empty()}});u.tapEvent();try{u.mousewheel(function(e){if(!u.data("settings").disable_scroll)p(u.data("settings").currentIndex-e.deltaY)})}catch(l){}u.on("gotoSlide",function(e,t){p(t)})};e.fn.gotoSlide=function(e){this.trigger("gotoSlide",e)};e.fn.next=function(){this.gotoSlide(this.data("settings").currentIndex+1)};e.fn.previous=function(){this.gotoSlide(this.data("settings").currentIndex-1)};e.fn.reload=function(){if(!this.data("settings").disable_autowidth)this.css("width",this.children("li").length*this.children("li").css("width").replace("px","")+10);this.gotoSlide(this.data("settings").currentIndex)};e.fn.add=function(e){this.append(e);this.tapEvent()};e.fn.getActiveIndex=function(){return this.data("settings").currentIndex};e.fn.getCurrentPos=function(){var e=n(this.css("transform"));var t=parseFloat(e[4]);return t};e.fn.tapEvent=function(){var t=this;try{t.children("li").hammer().bind("tap",function(n){if(e(this).index()!=t.data("settings").currentIndex){t.gotoSlide(e(this).index())}})}catch(n){}}})(jQuery)

function matrixToArray(e){return e.substr(7,e.length-8).split(", ")}function easeOutBack(e,t,n,i,r){return void 0==r&&(r=1.70158),n*((e=e/i-1)*e*((r+1)*e+r)+1)+t}function slideout(e,t){function n(){if(f=Date.now()-o,h)$(".itemslide_slideoutwrap").translate3d(0,s-easeOutBack(f,0,s-a,250,0)),e.savedSlide.css("opacity",l-easeOutBack(f,0,l-0,250,0)*(d?-1:1));else{if(d)return $(".itemslide_slideoutwrap").children().unwrap(),$(".itemslide_move").children().unwrap(),isExplorer&&e.children().css("height",""),e.end_animation=!0,void(f=0);$(".itemslide_move").translate3d(0-easeOutBack(f-250,0,0+e.savedSlide.width(),125,0)*(v?-1:1))}return 1==p&&($(".itemslide_slideoutwrap").children().unwrap(),e.savedSlideIndex==e.data("vars").currentIndex&&$(".itemslide_move").children(":nth-child(1)").attr("class","itemslide-active"),e.savedSlideIndex!=e.children().length-1||v||e.savedSlideIndex!=e.data("vars").currentIndex||(t.duration=200,e.gotoSlide(e.children().length-2)),0==e.savedSlideIndex&&0!=e.data("vars").currentIndex&&(f=500),p=-1),f>=250&&(h=!1,-1!=p&&(p=1),f>=375)?($(".itemslide_move").children().unwrap(),e.removeSlide(i.index()),(0==e.savedSlideIndex&&0!=e.data("vars").currentIndex||v)&&e.gotoWithoutAnimation(e.data("vars").currentIndex-1),t.duration=c,f=0,void(e.end_animation=!0)):void(u=requestAnimationFrame(n))}var i,r,a=-400,o=Date.now(),s=0,u=0,c=0,l=0;e.end_animation=!0;var d=!1;e.swipeOut=function(){s=$(".itemslide_slideoutwrap").translate3d().y,r=0>s,a=r?-400:400,Math.abs(0-s)<50?(d=!0,a=0):(d=!1,e.trigger({type:"swipeout",slide:e.savedSlideIndex})),p=0,c=t.duration,i=e.savedSlide,o=Date.now(),l=e.savedSlide.css("opacity"),e.savedSlideIndex<e.data("vars").currentIndex?(v=!0,e.children(":nth-child(-n+"+(e.savedSlideIndex+1)+")").wrapAll("<div class='itemslide_move' />")):(v=!1,e.children(":nth-child(n+"+(e.savedSlideIndex+2)+")").wrapAll("<div class='itemslide_move' />")),h=!0,e.end_animation=!1,u=requestAnimationFrame(n)};var h=!0,f=0,p=0,v=!1}var Zepto=function(){function e(e){return null==e?String(e):z[X.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function i(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function r(t){return"object"==e(t)}function a(e){return r(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function o(e){return"number"==typeof e.length}function s(e){return A.call(e,function(e){return null!=e})}function u(e){return e.length>0?E.fn.concat.apply([],e):e}function c(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(e,t){return"number"!=typeof t||C[c(e)]?t:t+"px"}function d(e){var t,n;return N[e]||(t=P.createElement(e),P.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),N[e]=n),N[e]}function h(e){return"children"in e?O.call(e.children):E.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function f(e,t){var n,i=e?e.length:0;for(n=0;i>n;n++)this[n]=e[n];this.length=i,this.selector=t||""}function p(e,t,n){for(b in t)n&&(a(t[b])||Y(t[b]))?(a(t[b])&&!a(e[b])&&(e[b]={}),Y(t[b])&&!Y(e[b])&&(e[b]=[]),p(e[b],t[b],n)):t[b]!==x&&(e[b]=t[b])}function v(e,t){return null==t?E(e):E(e).filter(t)}function m(e,n,i,r){return t(n)?n.call(e,i,r):n}function g(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function y(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?E.parseJSON(e):e):e}catch(t){return e}}function w(e,t){t(e);for(var n=0,i=e.childNodes.length;i>n;n++)w(e.childNodes[n],t)}var x,b,E,S,_,$=[],I=$.concat,A=$.filter,O=$.slice,P=window.document,N={},C={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},D=/^\s*<(\w+|!)[^>]*>/,T=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,M=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Z=["val","css","html","text","data","width","height","offset"],k=["after","prepend","before","append"],j=P.createElement("table"),L=P.createElement("tr"),q={tr:P.createElement("tbody"),tbody:j,thead:j,tfoot:j,td:L,th:L,"*":P.createElement("div")},B=/complete|loaded|interactive/,F=/^[\w-]*$/,z={},X=z.toString,R={},V=P.createElement("div"),H={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Y=Array.isArray||function(e){return e instanceof Array};return R.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,r=e.parentNode,a=!r;return a&&(r=V).appendChild(e),i=~R.qsa(r,t).indexOf(e),a&&V.removeChild(e),i},S=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},_=function(e){return A.call(e,function(t,n){return e.indexOf(t)==n})},R.fragment=function(e,t,n){var i,r,o;return T.test(e)&&(i=E(P.createElement(RegExp.$1))),i||(e.replace&&(e=e.replace(M,"<$1></$2>")),t===x&&(t=D.test(e)&&RegExp.$1),t in q||(t="*"),o=q[t],o.innerHTML=""+e,i=E.each(O.call(o.childNodes),function(){o.removeChild(this)})),a(n)&&(r=E(i),E.each(n,function(e,t){Z.indexOf(e)>-1?r[e](t):r.attr(e,t)})),i},R.Z=function(e,t){return new f(e,t)},R.isZ=function(e){return e instanceof R.Z},R.init=function(e,n){var i;if(!e)return R.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&D.test(e))i=R.fragment(e,RegExp.$1,n),e=null;else{if(n!==x)return E(n).find(e);i=R.qsa(P,e)}else{if(t(e))return E(P).ready(e);if(R.isZ(e))return e;if(Y(e))i=s(e);else if(r(e))i=[e],e=null;else if(D.test(e))i=R.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==x)return E(n).find(e);i=R.qsa(P,e)}}return R.Z(i,e)},E=function(e,t){return R.init(e,t)},E.extend=function(e){var t,n=O.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){p(e,n,t)}),e},R.qsa=function(e,t){var n,i="#"==t[0],r=!i&&"."==t[0],a=i||r?t.slice(1):t,o=F.test(a);return e.getElementById&&o&&i?(n=e.getElementById(a))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:O.call(o&&!i&&e.getElementsByClassName?r?e.getElementsByClassName(a):e.getElementsByTagName(t):e.querySelectorAll(t))},E.contains=P.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},E.type=e,E.isFunction=t,E.isWindow=n,E.isArray=Y,E.isPlainObject=a,E.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},E.inArray=function(e,t,n){return $.indexOf.call(t,e,n)},E.camelCase=S,E.trim=function(e){return null==e?"":String.prototype.trim.call(e)},E.uuid=0,E.support={},E.expr={},E.noop=function(){},E.map=function(e,t){var n,i,r,a=[];if(o(e))for(i=0;i<e.length;i++)n=t(e[i],i),null!=n&&a.push(n);else for(r in e)n=t(e[r],r),null!=n&&a.push(n);return u(a)},E.each=function(e,t){var n,i;if(o(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(i in e)if(t.call(e[i],i,e[i])===!1)return e;return e},window.JSON&&(E.parseJSON=JSON.parse),E.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){z["[object "+t+"]"]=t.toLowerCase()}),E.fn={constructor:R.Z,length:0,forEach:$.forEach,reduce:$.reduce,push:$.push,sort:$.sort,splice:$.splice,indexOf:$.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=R.isZ(t)?t.toArray():t;return I.apply(R.isZ(this)?this.toArray():this,n)},map:function(e){return E(E.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return E(O.apply(this,arguments))},ready:function(e){return B.test(P.readyState)&&P.body?e(E):P.addEventListener("DOMContentLoaded",function(){e(E)},!1),this},get:function(e){return e===x?O.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return $.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):E(A.call(this,function(t){return R.matches(t,e)}))},add:function(e,t){return E(_(this.concat(E(e,t))))},find:function(e){var t,n=this;return t=e?"object"==typeof e?E(e).filter(function(){var e=this;return $.some.call(n,function(t){return E.contains(t,e)})}):1==this.length?E(R.qsa(this[0],e)):this.map(function(){return R.qsa(this,e)}):E()},closest:function(e,t){var n=this[0],r=!1;for("object"==typeof e&&(r=E(e));n&&!(r?r.indexOf(n)>=0:R.matches(n,e));)n=n!==t&&!i(n)&&n.parentNode;return E(n)},parent:function(e){return v(_(this.pluck("parentNode")),e)},children:function(e){return v(this.map(function(){return h(this)}),e)},pluck:function(e){return E.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=d(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var i=E(e).get(0),r=i.parentNode||this.length>1;return this.each(function(t){E(this).wrapAll(n?e.call(this,t):r?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){E(this[0]).before(e=E(e));for(var t;(t=e.children()).length;)e=t.first();E(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var i=E(this),r=i.contents(),a=n?e.call(this,t):e;r.length?r.wrapAll(a):i.append(a)})},unwrap:function(){return this.parent().each(function(){E(this).replaceWith(E(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=E(this);(e===x?"none"==t.css("display"):e)?t.show():t.hide()})},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(r(e))for(b in e)g(this,b,e[b]);else g(this,e,m(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:x},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){g(this,e)},this)})},prop:function(e,t){return e=H[e]||e,1 in arguments?this.each(function(n){this[e]=m(this,t,n,this[e])}):this[0]&&this[0][e]},offset:function(e){if(e)return this.each(function(t){var n=E(this),i=m(this,e,t,n.offset()),r=n.offsetParent().offset(),a={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(a.position="relative"),n.css(a)});if(!this.length)return null;if(!E.contains(P.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var i,r=this[0];if(!r)return;if(i=getComputedStyle(r,""),"string"==typeof t)return r.style[S(t)]||i.getPropertyValue(t);if(Y(t)){var a={};return E.each(t,function(e,t){a[t]=r.style[S(t)]||i.getPropertyValue(t)}),a}}var o="";if("string"==e(t))n||0===n?o=c(t)+":"+l(t,n):this.each(function(){this.style.removeProperty(c(t))});else for(b in t)t[b]||0===t[b]?o+=c(b)+":"+l(b,t[b])+";":this.each(function(){this.style.removeProperty(c(b))});return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(E(e)[0]):this.parent().children().indexOf(this[0])}},E.fn.detach=E.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});E.fn[e]=function(r){var a,o=this[0];return r===x?n(o)?o["inner"+t]:i(o)?o.documentElement["scroll"+t]:(a=this.offset())&&a[e]:this.each(function(t){o=E(this),o.css(e,m(this,r,t,o[e]()))})}}),k.forEach(function(t,n){var i=n%2;E.fn[t]=function(){var t,r,a=E.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:R.fragment(n)}),o=this.length>1;return a.length<1?this:this.each(function(e,t){r=i?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var s=E.contains(P.documentElement,r);a.forEach(function(e){if(o)e=e.cloneNode(!0);else if(!r)return E(e).remove();r.insertBefore(e,t),s&&w(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},E.fn[i?t+"To":"insert"+(n?"Before":"After")]=function(e){return E(e)[t](this),this}}),R.Z.prototype=f.prototype=E.fn,R.uniq=_,R.deserializeValue=y,E.zepto=R,E}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(e){function t(t,i){var u=t[s],c=u&&r[u];if(void 0===i)return c||n(t);if(c){if(i in c)return c[i];var l=o(i);if(l in c)return c[l]}return a.call(e(t),i)}function n(t,n,a){var u=t[s]||(t[s]=++e.uuid),c=r[u]||(r[u]=i(t));return void 0!==n&&(c[o(n)]=a),c}function i(t){var n={};return e.each(t.attributes||u,function(t,i){0==i.name.indexOf("data-")&&(n[o(i.name.replace("data-",""))]=e.zepto.deserializeValue(i.value))}),n}var r={},a=e.fn.data,o=e.camelCase,s=e.expando="Zepto"+ +new Date,u=[];e.fn.data=function(i,r){return void 0===r?e.isPlainObject(i)?this.each(function(t,r){e.each(i,function(e,t){n(r,e,t)})}):0 in this?t(this[0],i):void 0:this.each(function(){n(this,i,r)})},e.fn.removeData=function(t){return"string"==typeof t&&(t=t.split(/\s+/)),this.each(function(){var n=this[s],i=n&&r[n];i&&e.each(t||i,function(e){delete i[t?o(this):e]})})},["remove","empty"].forEach(function(t){var n=e.fn[t];e.fn[t]=function(){var e=this.find("*");return"remove"===t&&(e=e.add(this)),e.removeData(),n.call(this)}})}(Zepto),function(e){function t(e){return e._zid||(e._zid=h++)}function n(e,n,a,o){if(n=i(n),n.ns)var s=r(n.ns);return(m[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!s.test(e.ns)||a&&t(e.fn)!==t(a)||o&&e.sel!=o)})}function i(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function r(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function a(e,t){return e.del&&!y&&e.e in w||!!t}function o(e){return x[e]||y&&w[e]||e}function s(n,r,s,u,l,h,f){var p=t(n),v=m[p]||(m[p]=[]);r.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(s);var r=i(t);r.fn=s,r.sel=l,r.e in x&&(s=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?r.fn.apply(this,arguments):void 0}),r.del=h;var p=h||s;r.proxy=function(e){if(e=c(e),!e.isImmediatePropagationStopped()){e.data=u;var t=p.apply(n,e._args==d?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},r.i=v.length,v.push(r),"addEventListener"in n&&n.addEventListener(o(r.e),r.proxy,a(r,f))})}function u(e,i,r,s,u){var c=t(e);(i||"").split(/\s/).forEach(function(t){n(e,t,r,s).forEach(function(t){delete m[c][t.i],"removeEventListener"in e&&e.removeEventListener(o(t.e),t.proxy,a(t,u))})})}function c(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(_,function(e,i){var r=n[e];t[e]=function(){return this[i]=b,r&&r.apply(n,arguments)},t[i]=E}),(n.defaultPrevented!==d?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=b)),t}function l(e){var t,n={originalEvent:e};for(t in e)S.test(t)||e[t]===d||(n[t]=e[t]);return c(n,e)}var d,h=1,f=Array.prototype.slice,p=e.isFunction,v=function(e){return"string"==typeof e},m={},g={},y="onfocusin"in window,w={focus:"focusin",blur:"focusout"},x={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",e.event={add:s,remove:u},e.fn.bind=function(e,t,n){return this.on(e,t,n)};var b=function(){return!0},E=function(){return!1},S=/^([A-Z]|returnValue$|layer[XY]$)/,_={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.on=function(t,n,i,r,a){var o,c,h=this;return t&&!v(t)?(e.each(t,function(e,t){h.on(e,n,i,t,a)}),h):(v(n)||p(r)||r===!1||(r=i,i=n,n=d),(r===d||i===!1)&&(r=i,i=d),r===!1&&(r=E),h.each(function(d,h){a&&(o=function(e){return u(h,e.type,r),r.apply(this,arguments)}),n&&(c=function(t){var i,a=e(t.target).closest(n,h).get(0);return a&&a!==h?(i=e.extend(l(t),{currentTarget:a,liveFired:h}),(o||r).apply(a,[i].concat(f.call(arguments,1)))):void 0}),s(h,t,r,i,n,c||o)}))},e.fn.off=function(t,n,i){var r=this;return t&&!v(t)?(e.each(t,function(e,t){r.off(e,n,t)}),r):(v(n)||p(i)||i===!1||(i=n,n=d),i===!1&&(i=E),r.each(function(){u(this,t,i,n)}))},e.fn.trigger=function(t,n){return t=v(t)||e.isPlainObject(t)?e.Event(t):c(t),t._args=n,this.each(function(){t.type in w&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){v(e)||(t=e,e=t.type);var n=document.createEvent(g[e]||"Events"),i=!0;if(t)for(var r in t)"bubbles"==r?i=!!t[r]:n[r]=t[r];return n.initEvent(e,i,!0),c(n)}}(Zepto),function(){try{getComputedStyle(void 0)}catch(e){var t=getComputedStyle;window.getComputedStyle=function(e){try{return t(e)}catch(n){return null}}}}();var isExplorer=!1||!!document.documentMode;$(function(){"use strict";$.fn.itemslide=function(e){function t(e){"touchmove"==e.type?(w=null==$.fn.jquery?e.changedTouches[0]:e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],Math.abs(w.pageX-b)>10&&(S=1),S&&e.preventDefault()):(w=e,e.preventDefault()),d=-(w.pageX-b)>0?1:-1,a()?I&&(A=w.pageX,I=0):(I||(m.currentLandPos=m.translate3d().x,b=w.pageX),I=1),1==O&&(isExplorer&&m.children().css("height",m.data("vars").slideHeight),m.savedSlide.wrapAll("<div class='itemslide_slideoutwrap' />"),O=-1),Math.abs(w.pageX-b)>6&&(!p&&m.end_animation&&(v=!0),cancelAnimationFrame(l)),Math.abs(w.pageY-E)>6&&!v&&m.end_animation&&(p=!0),v?(p=!1,m.translate3d((0==I?A-b+(w.pageX-A)/4:w.pageX-b)+m.currentLandPos),m.trigger("changePos"),m.trigger("pan")):p&&y.swipe_out&&(e.preventDefault(),$(".itemslide_slideoutwrap").translate3d(0,w.pageY-E),-1!=O&&(O=1))}function n(e){m.children(":nth-child("+(m.data("vars").currentIndex+1||0)+")").attr("class",""),m.children(":nth-child("+(e+1||0)+")").attr("class","itemslide-active"),e!=y.currentIndex&&(m.data("vars").currentIndex=e,m.trigger("changeActiveIndex"))}function i(e){for(var t=0;t<m.children("li").length;t++)if(m.children().cwidth()*t+m.children().cwidth()/2-m.children().cwidth()*y.pan_threshold*d-r(0)>e)return y.one_item?t!=m.data("vars").currentIndex?m.data("vars").currentIndex+1*d:m.data("vars").currentIndex:t;return y.one_item?m.data("vars").currentIndex+1:m.children("li").length-1}function r(e){return-(e*m.children().cwidth()-(m.parent().cwidth()-u-m.children().cwidth())/2)}function a(){return Math.floor(m.translate3d().x)>r(0)&&-1==d||Math.ceil(m.translate3d().x)<r(m.children("li").length-1)&&1==d}function o(e){e>=m.children("li").length-1||0>=e?(h=!0,e=Math.min(Math.max(e,0),m.children("li").length-1)):h=!1,n(e),C=Math.max(y.duration-1920/$(window).width()*Math.abs(m.data("vars").velocity)*9*(y.duration/230)-(a()?f/15:0)*(y.duration/230),50),N=h?250*Math.abs(m.data("vars").velocity)/$(window).width():0,c=m.translate3d().x,m.currentLandPos=r(e),cancelAnimationFrame(l),D=Date.now(),l=requestAnimationFrame(s)}function s(){var e=Date.now()-D;return m.trigger("changePos"),m.translate3d(c-easeOutBack(e,0,c-m.currentLandPos,C,N)),e>=C?void m.translate3d(m.currentLandPos):void(l=requestAnimationFrame(s))}var u=0,c=0,l=0,d=0,h=!1,f=0,p=!1,v=!1,m=this,g={duration:350,swipe_sensitivity:150,disable_slide:!1,disable_scroll:!1,start:0,one_item:!1,pan_threshold:.3,disable_autowidth:!1,parent_width:!1,swipe_out:!1},y=$.extend({},g,e);y.parent_width&&m.children().width(m.parent().cwidth()),this.data("vars",{currentIndex:0,disable_autowidth:y.disable_autowidth,parent_width:y.parent_width,velocity:0,slideHeight:m.children().height()}),m.end_animation=!0,y.swipe_out&&slideout(m,y),u=parseInt(m.css("left").replace("px","")),m.css({"touch-action":"pan-y","-webkit-user-select":"none","-webkit-touch-callout":"none","-webkit-user-drag":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}),y.disable_autowidth||m.css("width",m.children("li").length*m.children().cwidth()+10),m.translate3d(0),o(y.start);var w,x=!1,b=0,E=0,S=!1,_=0;m.savedSlideIndex=0,m.on("mousedown touchstart","li",function(e){if(!y.disable_slide){if(w="touchstart"==e.type?null==$.fn.jquery?e.changedTouches[0]:e.originalEvent.touches[0]||e.originalEvent.changedTouches[0]:e,!m.end_animation)return;_=Date.now(),x=1,S=0,b=w.pageX,E=w.pageY,p=!1,v=!1,m.savedSlide=$(this),m.savedSlideIndex=m.savedSlide.index(),O=0,$(window).on("mousemove touchmove",t),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}});var I=!0,A=0,O=0;$(window).on("mouseup touchend",function(e){if(!y.disable_slide&&x)if(w="touchend"==e.type?null==$.fn.jquery?e.changedTouches[0]:e.originalEvent.touches[0]||e.originalEvent.changedTouches[0]:e,x=!1,$(window).off("mousemove touchmove"),p&&y.swipe_out)m.swipeOut();else if(m.end_animation){var t=Date.now()-_;m.data("vars").velocity=-(w.pageX-b)/t,d=m.data("vars").velocity>0?1:-1,f=(w.pageX-b)*d*-1,(w.pageX-b)*d<-6?o(i(m.data("vars").velocity*y.swipe_sensitivity-m.translate3d().x)):m.savedSlide.index()!=m.data("vars").currentIndex&&(e.preventDefault(),o(m.savedSlide.index()))}});try{m.mousewheel(function(e){if(!y.disable_scroll){m.data("vars").velocity=0;var t=m.data("vars").currentIndex-e.deltaY;if(t>=m.children("li").length||0>t)return;o(t),e.preventDefault()}})}catch(P){}m.on("gotoSlide",function(e,t){o(t)});var N=0,C=y.duration,D=Date.now();m.gotoWithoutAnimation=function(e){m.data("vars").currentIndex=e,m.currentLandPos=r(e),m.translate3d(r(e))}},$.fn.gotoSlide=function(e){this.trigger("gotoSlide",e)},$.fn.next=function(){this.gotoSlide(this.data("vars").currentIndex+1)},$.fn.previous=function(){this.gotoSlide(this.data("vars").currentIndex-1)},$.fn.reload=function(){this.data("vars").parent_width&&this.children().width(this.parent().cwidth()),this.data("vars").disable_autowidth||this.css("width",this.children("li").length*this.children().cwidth()+10),this.data("vars").slideHeight=this.children().height(),this.data("vars").velocity=0,this.gotoSlide(this.data("vars").currentIndex)},$.fn.addSlide=function(e){this.append("<li>"+e+"</li>"),this.reload()},$.fn.removeSlide=function(e){this.children(":nth-child("+(e+1||0)+")").remove()},$.fn.getActiveIndex=function(){return this.data("vars").currentIndex},$.fn.getCurrentPos=function(){return this.translate3d().x},$.fn.translate3d=function(e,t){if(null==e){var n=matrixToArray(this.css("transform"));if(null!=$.fn.jquery)return{x:parseFloat(isExplorer?n[12]:n[4]),y:parseFloat(isExplorer?n[13]:n[5])};var i=this.css("transform").replace("translate3d","").replace("(","").replace(")","").replace(" ","").replace("px","").split(",");return{x:parseFloat(i[0]),y:parseFloat(i[1])}}this.css("transform","translate3d("+e+"px,"+(t||0)+"px, 0px)")},$.fn.cwidth=function(){return parseInt(this.css("width").replace("px",""))}});

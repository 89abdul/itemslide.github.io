function matrixToArray(e){return e.substr(7,e.length-8).split(", ")}function easeOutBack(e,t,n,i,a){return void 0==a&&(a=1.70158),n*((e=e/i-1)*e*((a+1)*e+a)+1)+t}function slideout(e,t){function m(){if(v=Date.now()-i,h)$(".itemslide_slideoutwrap").translate3d(0,a-easeOutBack(v,0,a-n,250,0)),e.savedSlide.css("opacity",d-easeOutBack(v,0,d-0,250,0)*(f?-1:1));else{if(f)return $(".itemslide_slideoutwrap").children().unwrap(),$(".itemslide_move").children().unwrap(),isExplorer&&e.children().css("height",""),e.end_animation=!0,void(v=0);$(".itemslide_move").translate3d(0-easeOutBack(v-250,0,0+e.savedSlide.width(),125,0)*(g?-1:1))}return 1==p&&($(".itemslide_slideoutwrap").children().unwrap(),e.savedSlideIndex==e.data("vars").currentIndex&&$(".itemslide_move").children(":nth-child(1)").attr("class","itemslide-active"),e.savedSlideIndex!=e.children().length-1||g||e.savedSlideIndex!=e.data("vars").currentIndex||(t.duration=200,e.gotoSlide(e.children().length-2)),0==e.savedSlideIndex&&0!=e.data("vars").currentIndex&&(v=500),p=-1),v>=250&&(h=!1,-1!=p&&(p=1),v>=375)?($(".itemslide_move").children().unwrap(),e.removeSlide(o.index()),(0==e.savedSlideIndex&&0!=e.data("vars").currentIndex||g)&&e.gotoWithoutAnimation(e.data("vars").currentIndex-1),t.duration=l,v=0,void(e.end_animation=!0)):void(s=requestAnimationFrame(m))}var o,u,n=-400,i=Date.now(),a=0,s=0,l=0,d=0;e.end_animation=!0;var f=!1;e.swipeOut=function(){a=$(".itemslide_slideoutwrap").translate3d().y,u=0>a,n=u?-400:400,Math.abs(0-a)<50?(f=!0,n=0):(f=!1,e.trigger({type:"swipeout",slide:e.savedSlideIndex})),p=0,l=t.duration,o=e.savedSlide,i=Date.now(),d=e.savedSlide.css("opacity"),e.savedSlideIndex<e.data("vars").currentIndex?(g=!0,e.children(":nth-child(-n+"+(e.savedSlideIndex+1)+")").wrapAll("<div class='itemslide_move' />")):(g=!1,e.children(":nth-child(n+"+(e.savedSlideIndex+2)+")").wrapAll("<div class='itemslide_move' />")),h=!0,e.end_animation=!1,s=requestAnimationFrame(m)};var h=!0,v=0,p=0,g=!1}var Zepto=function(){function k(e){return null==e?String(e):b[$.call(e)]||"object"}function F(e){return"function"==k(e)}function T(e){return null!=e&&e==e.window}function X(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function q(e){return"object"==k(e)}function L(e){return q(e)&&!T(e)&&Object.getPrototypeOf(e)==Object.prototype}function N(e){return"number"==typeof e.length}function j(e){return s.call(e,function(e){return null!=e})}function B(e){return e.length>0?n.fn.concat.apply([],e):e}function C(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function Y(e,t){return"number"!=typeof t||u[C(e)]?t:t+"px"}function R(e){var t,n;return o[e]||(t=d.createElement(e),d.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),o[e]=n),o[e]}function H(e){return"children"in e?l.call(e.children):n.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function z(e,t){var n,i=e?e.length:0;for(n=0;i>n;n++)this[n]=e[n];this.length=i,this.selector=t||""}function V(n,i,a){for(t in i)a&&(L(i[t])||O(i[t]))?(L(i[t])&&!L(n[t])&&(n[t]={}),O(i[t])&&!O(n[t])&&(n[t]=[]),V(n[t],i[t],a)):i[t]!==e&&(n[t]=i[t])}function W(e,t){return null==t?n(e):n(e).filter(t)}function J(e,t,n,i){return F(t)?t.call(e,n,i):t}function U(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function K(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?n.parseJSON(e):e):e}catch(t){return e}}function Q(e,t){t(e);for(var n=0,i=e.childNodes.length;i>n;n++)Q(e.childNodes[n],t)}var e,t,n,A,D,a=[],r=a.concat,s=a.filter,l=a.slice,d=window.document,o={},u={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},f=/^\s*<(\w+|!)[^>]*>/,h=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,m=["val","css","html","text","data","width","height","offset"],w=["after","prepend","before","append"],x=d.createElement("table"),y=d.createElement("tr"),_={tr:d.createElement("tbody"),tbody:x,thead:x,tfoot:x,td:y,th:y,"*":d.createElement("div")},S=/complete|loaded|interactive/,I=/^[\w-]*$/,b={},$=b.toString,E={},P=d.createElement("div"),M={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},O=Array.isArray||function(e){return e instanceof Array};return E.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,a=e.parentNode,r=!a;return r&&(a=P).appendChild(e),i=~E.qsa(a,t).indexOf(e),r&&P.removeChild(e),i},A=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},D=function(e){return s.call(e,function(t,n){return e.indexOf(t)==n})},E.fragment=function(t,i,a){var r,s,o;return h.test(t)&&(r=n(d.createElement(RegExp.$1))),r||(t.replace&&(t=t.replace(v,"<$1></$2>")),i===e&&(i=f.test(t)&&RegExp.$1),i in _||(i="*"),o=_[i],o.innerHTML=""+t,r=n.each(l.call(o.childNodes),function(){o.removeChild(this)})),L(a)&&(s=n(r),n.each(a,function(e,t){m.indexOf(e)>-1?s[e](t):s.attr(e,t)})),r},E.Z=function(e,t){return new z(e,t)},E.isZ=function(e){return e instanceof E.Z},E.init=function(t,i){var a;if(!t)return E.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&f.test(t))a=E.fragment(t,RegExp.$1,i),t=null;else{if(i!==e)return n(i).find(t);a=E.qsa(d,t)}else{if(F(t))return n(d).ready(t);if(E.isZ(t))return t;if(O(t))a=j(t);else if(q(t))a=[t],t=null;else if(f.test(t))a=E.fragment(t.trim(),RegExp.$1,i),t=null;else{if(i!==e)return n(i).find(t);a=E.qsa(d,t)}}return E.Z(a,t)},n=function(e,t){return E.init(e,t)},n.extend=function(e){var t,n=l.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){V(e,n,t)}),e},E.qsa=function(e,t){var n,i="#"==t[0],a=!i&&"."==t[0],r=i||a?t.slice(1):t,s=I.test(r);return e.getElementById&&s&&i?(n=e.getElementById(r))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:l.call(s&&!i&&e.getElementsByClassName?a?e.getElementsByClassName(r):e.getElementsByTagName(t):e.querySelectorAll(t))},n.contains=d.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},n.type=k,n.isFunction=F,n.isWindow=T,n.isArray=O,n.isPlainObject=L,n.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},n.inArray=function(e,t,n){return a.indexOf.call(t,e,n)},n.camelCase=A,n.trim=function(e){return null==e?"":String.prototype.trim.call(e)},n.uuid=0,n.support={},n.expr={},n.noop=function(){},n.map=function(e,t){var n,a,r,i=[];if(N(e))for(a=0;a<e.length;a++)n=t(e[a],a),null!=n&&i.push(n);else for(r in e)n=t(e[r],r),null!=n&&i.push(n);return B(i)},n.each=function(e,t){var n,i;if(N(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(i in e)if(t.call(e[i],i,e[i])===!1)return e;return e},window.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){b["[object "+t+"]"]=t.toLowerCase()}),n.fn={constructor:E.Z,length:0,forEach:a.forEach,reduce:a.reduce,push:a.push,sort:a.sort,splice:a.splice,indexOf:a.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=E.isZ(t)?t.toArray():t;return r.apply(E.isZ(this)?this.toArray():this,n)},map:function(e){return n(n.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return n(l.apply(this,arguments))},ready:function(e){return S.test(d.readyState)&&d.body?e(n):d.addEventListener("DOMContentLoaded",function(){e(n)},!1),this},get:function(t){return t===e?l.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return a.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return F(e)?this.not(this.not(e)):n(s.call(this,function(t){return E.matches(t,e)}))},add:function(e,t){return n(D(this.concat(n(e,t))))},find:function(e){var t,i=this;return t=e?"object"==typeof e?n(e).filter(function(){var e=this;return a.some.call(i,function(t){return n.contains(t,e)})}):1==this.length?n(E.qsa(this[0],e)):this.map(function(){return E.qsa(this,e)}):n()},closest:function(e,t){var i=this[0],a=!1;for("object"==typeof e&&(a=n(e));i&&!(a?a.indexOf(i)>=0:E.matches(i,e));)i=i!==t&&!X(i)&&i.parentNode;return n(i)},parent:function(e){return W(D(this.pluck("parentNode")),e)},children:function(e){return W(this.map(function(){return H(this)}),e)},pluck:function(e){return n.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=R(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=F(e);if(this[0]&&!t)var i=n(e).get(0),a=i.parentNode||this.length>1;return this.each(function(r){n(this).wrapAll(t?e.call(this,r):a?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){n(this[0]).before(e=n(e));for(var t;(t=e.children()).length;)e=t.first();n(e).append(this)}return this},wrapInner:function(e){var t=F(e);return this.each(function(i){var a=n(this),r=a.contents(),s=t?e.call(this,i):e;r.length?r.wrapAll(s):a.append(s)})},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(n(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var i=n(this);(t===e?"none"==i.css("display"):t)?i.show():i.hide()})},attr:function(n,i){var a;return"string"!=typeof n||1 in arguments?this.each(function(e){if(1===this.nodeType)if(q(n))for(t in n)U(this,t,n[t]);else U(this,n,J(this,i,e,this.getAttribute(n)))}):this.length&&1===this[0].nodeType?!(a=this[0].getAttribute(n))&&n in this[0]?this[0][n]:a:e},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){U(this,e)},this)})},prop:function(e,t){return e=M[e]||e,1 in arguments?this.each(function(n){this[e]=J(this,t,n,this[e])}):this[0]&&this[0][e]},offset:function(e){if(e)return this.each(function(t){var i=n(this),a=J(this,e,t,i.offset()),r=i.offsetParent().offset(),s={top:a.top-r.top,left:a.left-r.left};"static"==i.css("position")&&(s.position="relative"),i.css(s)});if(!this.length)return null;if(!n.contains(d.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(e,i){if(arguments.length<2){var a,r=this[0];if(!r)return;if(a=getComputedStyle(r,""),"string"==typeof e)return r.style[A(e)]||a.getPropertyValue(e);if(O(e)){var s={};return n.each(e,function(e,t){s[t]=r.style[A(t)]||a.getPropertyValue(t)}),s}}var l="";if("string"==k(e))i||0===i?l=C(e)+":"+Y(e,i):this.each(function(){this.style.removeProperty(C(e))});else for(t in e)e[t]||0===e[t]?l+=C(t)+":"+Y(t,e[t])+";":this.each(function(){this.style.removeProperty(C(t))});return this.each(function(){this.style.cssText+=";"+l})},index:function(e){return e?this.indexOf(n(e)[0]):this.parent().children().indexOf(this[0])}},n.fn.detach=n.fn.remove,["width","height"].forEach(function(t){var i=t.replace(/./,function(e){return e[0].toUpperCase()});n.fn[t]=function(a){var r,s=this[0];return a===e?T(s)?s["inner"+i]:X(s)?s.documentElement["scroll"+i]:(r=this.offset())&&r[t]:this.each(function(e){s=n(this),s.css(t,J(this,a,e,s[t]()))})}}),w.forEach(function(e,t){var i=t%2;n.fn[e]=function(){var e,r,a=n.map(arguments,function(t){return e=k(t),"object"==e||"array"==e||null==t?t:E.fragment(t)}),s=this.length>1;return a.length<1?this:this.each(function(e,l){r=i?l:l.parentNode,l=0==t?l.nextSibling:1==t?l.firstChild:2==t?l:null;var o=n.contains(d.documentElement,r);a.forEach(function(e){if(s)e=e.cloneNode(!0);else if(!r)return n(e).remove();r.insertBefore(e,l),o&&Q(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},n.fn[i?e+"To":"insert"+(t?"Before":"After")]=function(t){return n(t)[e](this),this}}),E.Z.prototype=z.prototype=n.fn,E.uniq=D,E.deserializeValue=K,n.zepto=E,n}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(e){function s(r,s){var d=r[a],o=d&&t[d];if(void 0===s)return o||l(r);if(o){if(s in o)return o[s];var c=i(s);if(c in o)return o[c]}return n.call(e(r),s)}function l(n,r,s){var l=n[a]||(n[a]=++e.uuid),o=t[l]||(t[l]=d(n));return void 0!==r&&(o[i(r)]=s),o}function d(t){var n={};return e.each(t.attributes||r,function(t,a){0==a.name.indexOf("data-")&&(n[i(a.name.replace("data-",""))]=e.zepto.deserializeValue(a.value))}),n}var t={},n=e.fn.data,i=e.camelCase,a=e.expando="Zepto"+ +new Date,r=[];e.fn.data=function(t,n){return void 0===n?e.isPlainObject(t)?this.each(function(n,i){e.each(t,function(e,t){l(i,e,t)})}):0 in this?s(this[0],t):void 0:this.each(function(){l(this,t,n)})},e.fn.removeData=function(n){return"string"==typeof n&&(n=n.split(/\s+/)),this.each(function(){var r=this[a],s=r&&t[r];s&&e.each(n||s,function(e){delete s[n?i(this):e]})})},["remove","empty"].forEach(function(t){var n=e.fn[t];e.fn[t]=function(){var e=this.find("*");return"remove"===t&&(e=e.add(this)),e.removeData(),n.call(this)}})}(Zepto),function(e){function u(e){return e._zid||(e._zid=t++)}function f(e,t,n,i){if(t=h(t),t.ns)var a=v(t.ns);return(s[u(e)]||[]).filter(function(e){return!(!e||t.e&&e.e!=t.e||t.ns&&!a.test(e.ns)||n&&u(e.fn)!==u(n)||i&&e.sel!=i)})}function h(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function v(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function p(e,t){return e.del&&!d&&e.e in o||!!t}function g(e){return c[e]||d&&o[e]||e}function m(t,i,a,r,l,d,o){var f=u(t),v=s[f]||(s[f]=[]);i.split(/\s/).forEach(function(i){if("ready"==i)return e(document).ready(a);var s=h(i);s.fn=a,s.sel=l,s.e in c&&(a=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?s.fn.apply(this,arguments):void 0}),s.del=d;var u=d||a;s.proxy=function(e){if(e=I(e),!e.isImmediatePropagationStopped()){e.data=r;var i=u.apply(t,e._args==n?[e]:[e].concat(e._args));return i===!1&&(e.preventDefault(),e.stopPropagation()),i}},s.i=v.length,v.push(s),"addEventListener"in t&&t.addEventListener(g(s.e),s.proxy,p(s,o))})}function w(e,t,n,i,a){var r=u(e);(t||"").split(/\s/).forEach(function(t){f(e,t,n,i).forEach(function(t){delete s[r][t.i],"removeEventListener"in e&&e.removeEventListener(g(t.e),t.proxy,p(t,a))})})}function I(t,i){return(i||!t.isDefaultPrevented)&&(i||(i=t),e.each(S,function(e,n){var a=i[e];t[e]=function(){return this[n]=x,a&&a.apply(i,arguments)},t[n]=y}),(i.defaultPrevented!==n?i.defaultPrevented:"returnValue"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(t.isDefaultPrevented=x)),t}function b(e){var t,i={originalEvent:e};for(t in e)_.test(t)||e[t]===n||(i[t]=e[t]);return I(i,e)}var n,t=1,i=Array.prototype.slice,a=e.isFunction,r=function(e){return"string"==typeof e},s={},l={},d="onfocusin"in window,o={focus:"focusin",blur:"focusout"},c={mouseenter:"mouseover",mouseleave:"mouseout"};l.click=l.mousedown=l.mouseup=l.mousemove="MouseEvents",e.event={add:m,remove:w},e.fn.bind=function(e,t,n){return this.on(e,t,n)};var x=function(){return!0},y=function(){return!1},_=/^([A-Z]|returnValue$|layer[XY]$)/,S={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.on=function(t,s,l,d,o){var c,u,f=this;return t&&!r(t)?(e.each(t,function(e,t){f.on(e,s,l,t,o)}),f):(r(s)||a(d)||d===!1||(d=l,l=s,s=n),(d===n||l===!1)&&(d=l,l=n),d===!1&&(d=y),f.each(function(n,a){o&&(c=function(e){return w(a,e.type,d),d.apply(this,arguments)}),s&&(u=function(t){var n,r=e(t.target).closest(s,a).get(0);return r&&r!==a?(n=e.extend(b(t),{currentTarget:r,liveFired:a}),(c||d).apply(r,[n].concat(i.call(arguments,1)))):void 0}),m(a,t,d,l,s,u||c)}))},e.fn.off=function(t,i,s){var l=this;return t&&!r(t)?(e.each(t,function(e,t){l.off(e,i,t)}),l):(r(i)||a(s)||s===!1||(s=i,i=n),s===!1&&(s=y),l.each(function(){w(this,t,s,i)}))},e.fn.trigger=function(t,n){return t=r(t)||e.isPlainObject(t)?e.Event(t):I(t),t._args=n,this.each(function(){t.type in o&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){r(e)||(t=e,e=t.type);var n=document.createEvent(l[e]||"Events"),i=!0;if(t)for(var a in t)"bubbles"==a?i=!!t[a]:n[a]=t[a];return n.initEvent(e,i,!0),I(n)}}(Zepto),function(){try{getComputedStyle(void 0)}catch(e){var t=getComputedStyle;window.getComputedStyle=function(e){try{return t(e)}catch(n){return null}}}}();var isExplorer=!1||!!document.documentMode;$(function(){"use strict";$.fn.itemslide=function(e){function _(e){if("touchmove"==e.type?(m=null==$.fn.jquery?e.changedTouches[0]:e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],Math.abs(m.pageX-h)>10&&(p=1),p&&e.preventDefault()):(m=e,e.preventDefault()),a=-(m.pageX-h)>0?1:-1,A()?w&&(x=m.pageX,w=0):(w||(o.currentLandPos=o.translate3d().x,h=m.pageX),w=1),1==y&&(isExplorer&&o.children().css("height",o.data("vars").slideHeight),o.savedSlide.wrapAll("<div class='itemslide_slideoutwrap' />"),y=-1),Math.abs(m.pageX-h)>6&&(!l&&o.end_animation&&(d=!0),cancelAnimationFrame(i)),Math.abs(m.pageY-v)>6&&!d&&o.end_animation&&(l=!0),d){if(u.disable_slide)return;l=!1,o.translate3d((0==w?x-h+(m.pageX-x)/4:m.pageX-h)+o.currentLandPos),o.trigger("changePos"),o.trigger("pan")}else l&&u.swipe_out&&(e.preventDefault(),$(".itemslide_slideoutwrap").translate3d(0,m.pageY-v),-1!=y&&(y=1))}function I(e){o.children(":nth-child("+(o.data("vars").currentIndex+1||0)+")").attr("class",""),o.children(":nth-child("+(e+1||0)+")").attr("class","itemslide-active"),e!=u.currentIndex&&(o.data("vars").currentIndex=e,o.trigger("changeActiveIndex"))}function b(e){for(var t=0;t<o.children("li").length;t++)if(o.children().cwidth()*t+o.children().cwidth()/2-o.children().cwidth()*u.pan_threshold*a-E(0)>e)return u.one_item?t!=o.data("vars").currentIndex?o.data("vars").currentIndex+1*a:o.data("vars").currentIndex:t;return u.one_item?o.data("vars").currentIndex+1:o.children("li").length-1}function E(e){return-(e*o.children().cwidth()-(o.parent().cwidth()-t-o.children().cwidth())/2)}function A(){return Math.floor(o.translate3d().x)>E(0)&&-1==a||Math.ceil(o.translate3d().x)<E(o.children("li").length-1)&&1==a}function D(e){e>=o.children("li").length-1||0>=e?(r=!0,e=Math.min(Math.max(e,0),o.children("li").length-1)):r=!1,I(e),M=Math.max(u.duration-1920/$(window).width()*Math.abs(o.data("vars").velocity)*9*(u.duration/230)-(A()?s/15:0)*(u.duration/230),50),P=r?250*Math.abs(o.data("vars").velocity)/$(window).width():0,n=o.translate3d().x,o.currentLandPos=E(e),cancelAnimationFrame(i),O=Date.now(),i=requestAnimationFrame(k)}function k(){var e=Date.now()-O;return o.trigger("changePos"),o.translate3d(n-easeOutBack(e,0,n-o.currentLandPos,M,P)),e>=M?void o.translate3d(o.currentLandPos):void(i=requestAnimationFrame(k))}var t=0,n=0,i=0,a=0,r=!1,s=0,l=!1,d=!1,o=this,c={duration:350,swipe_sensitivity:150,disable_slide:!1,disable_clicktoslide:!1,disable_scroll:!1,start:0,one_item:!1,pan_threshold:.3,disable_autowidth:!1,parent_width:!1,swipe_out:!1},u=$.extend({},c,e);u.parent_width&&o.children().width(o.parent().cwidth()),this.data("vars",{currentIndex:0,disable_autowidth:u.disable_autowidth,parent_width:u.parent_width,velocity:0,slideHeight:o.children().height()}),o.end_animation=!0,u.swipe_out&&slideout(o,u),t=parseInt(o.css("left").replace("px","")),o.css({"touch-action":"pan-y","-webkit-user-select":"none","-webkit-touch-callout":"none","-webkit-user-drag":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}),u.disable_autowidth||o.css("width",o.children("li").length*o.children().cwidth()+10),o.translate3d(0),D(u.start);var m,f=!1,h=0,v=0,p=!1,g=0;o.savedSlideIndex=0,o.on("mousedown touchstart","li",function(e){m="touchstart"==e.type?null==$.fn.jquery?e.changedTouches[0]:e.originalEvent.touches[0]||e.originalEvent.changedTouches[0]:e,o.end_animation&&(g=Date.now(),f=1,p=0,h=m.pageX,v=m.pageY,l=!1,d=!1,o.savedSlide=$(this),o.savedSlideIndex=o.savedSlide.index(),y=0,$(window).on("mousemove touchmove",_),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty())});var w=!0,x=0,y=0;$(window).on("mouseup touchend",function(e){if(f){if(m="touchend"==e.type?null==$.fn.jquery?e.changedTouches[0]:e.originalEvent.touches[0]||e.originalEvent.changedTouches[0]:e,f=!1,$(window).off("mousemove touchmove"),l&&u.swipe_out)return void o.swipeOut();if(o.end_animation&&!u.disable_slide){var t=Date.now()-g;if(o.data("vars").velocity=-(m.pageX-h)/t,a=o.data("vars").velocity>0?1:-1,s=(m.pageX-h)*a*-1,(m.pageX-h)*a<-6)return void D(b(o.data("vars").velocity*u.swipe_sensitivity-o.translate3d().x))}o.savedSlide.index()==o.data("vars").currentIndex||u.disable_clicktoslide||(e.preventDefault(),D(o.savedSlide.index()))}});try{o.mousewheel(function(e){if(!u.disable_scroll){o.data("vars").velocity=0;var t=o.data("vars").currentIndex-e.deltaY;if(t>=o.children("li").length||0>t)return;D(t),e.preventDefault()}})}catch(S){}o.on("gotoSlide",function(e,t){D(t)});var P=0,M=u.duration,O=Date.now();o.gotoWithoutAnimation=function(e){o.data("vars").currentIndex=e,o.currentLandPos=E(e),o.translate3d(E(e))}},$.fn.gotoSlide=function(e){this.trigger("gotoSlide",e)},$.fn.next=function(){this.gotoSlide(this.data("vars").currentIndex+1)},$.fn.previous=function(){this.gotoSlide(this.data("vars").currentIndex-1)},$.fn.reload=function(){this.data("vars").parent_width&&this.children().width(this.parent().cwidth()),this.data("vars").disable_autowidth||this.css("width",this.children("li").length*this.children().cwidth()+10),this.data("vars").slideHeight=this.children().height(),this.data("vars").velocity=0,this.gotoSlide(this.data("vars").currentIndex)},$.fn.addSlide=function(e){this.append("<li>"+e+"</li>"),this.reload()},$.fn.removeSlide=function(e){this.children(":nth-child("+(e+1||0)+")").remove()},$.fn.getActiveIndex=function(){return this.data("vars").currentIndex},$.fn.getCurrentPos=function(){return this.translate3d().x},$.fn.translate3d=function(e,t){if(null==e){var n=matrixToArray(this.css("transform"));if(null!=$.fn.jquery)return{x:parseFloat(isExplorer?n[12]:n[4]),y:parseFloat(isExplorer?n[13]:n[5])};var i=this.css("transform").replace("translate3d","").replace("(","").replace(")","").replace(" ","").replace("px","").split(",");return{x:parseFloat(i[0]),y:parseFloat(i[1])}}this.css("transform","translate3d("+e+"px,"+(t||0)+"px, 0px)")},$.fn.cwidth=function(){return parseInt(this.css("width").replace("px",""))}});

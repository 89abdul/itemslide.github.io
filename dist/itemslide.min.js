function matrixToArray(a){return a.substr(7,a.length-8).split(", ")}function easeOutBack(a,b,c,d,e){return void 0==e&&(e=1.70158),c*((a=a/d-1)*a*((e+1)*a+e)+1)+b}function slideout(a,b,c){function d(){if(o=Date.now()-h,n)$(".itemslide_slideoutwrap").translate3d(0,i-easeOutBack(o,0,i-g,250,0)),a.savedSlide.css("opacity",l-easeOutBack(o,0,l-0,250,0)*(m?-1:1));else{if(m)return $(".itemslide_slideoutwrap").children().unwrap(),$(".itemslide_move").children().unwrap(),isExplorer&&a.children().css("height",""),a.end_animation=!0,void(o=0);$(".itemslide_move").translate3d(0-easeOutBack(o-250,0,0+a.savedSlide.width(),125,0)*(q?-1:1))}return 1==p&&($(".itemslide_slideoutwrap").children().unwrap(),a.savedSlideIndex==c.currentIndex&&$(".itemslide_move").children(":nth-child(1)").attr("class","itemslide-active"),a.savedSlideIndex!=a.children().length-1||q||a.savedSlideIndex!=c.currentIndex||(b.duration=200,a.gotoSlide(a.children().length-2)),0==a.savedSlideIndex&&0!=c.currentIndex&&(o=500),p=-1),o>=250&&(n=!1,-1!=p&&(p=1),o>=375)?($(".itemslide_move").children().unwrap(),a.removeSlide(e.index()),(0==a.savedSlideIndex&&0!=c.currentIndex||q)&&a.gotoWithoutAnimation(c.currentIndex-1),b.duration=k,o=0,void(a.end_animation=!0)):void(j=requestAnimationFrame(d))}var e,f,g=-400,h=Date.now(),i=0,j=0,k=0,l=0;a.end_animation=!0;var m=!1;a.swipeOut=function(){i=$(".itemslide_slideoutwrap").translate3d().y,f=0>i,g=f?-400:400,Math.abs(0-i)<50?(m=!0,g=0):(m=!1,a.trigger({type:"swipeout",slide:a.savedSlideIndex})),p=0,k=b.duration,e=a.savedSlide,h=Date.now(),l=a.savedSlide.css("opacity"),a.savedSlideIndex<c.currentIndex?(q=!0,a.children(":nth-child(-n+"+(a.savedSlideIndex+1)+")").wrapAll("<div class='itemslide_move' />")):(q=!1,a.children(":nth-child(n+"+(a.savedSlideIndex+2)+")").wrapAll("<div class='itemslide_move' />")),n=!0,a.end_animation=!1,j=requestAnimationFrame(d)};var n=!0,o=0,p=0,q=!1}!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();var isExplorer=!1||!!document.documentMode;$(function(){"use strict";$.fn.itemslide=function(a){function b(a){if("touchmove"==a.type?(v=null==$.fn.jquery?a.changedTouches[0]:a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],Math.abs(v.pageX-x)>10&&(z=1),z&&a.preventDefault()):(v=a,t.disable_slide||t.swipe_out||a.preventDefault()),m=-(v.pageX-x)>0?1:-1,h()?B&&(C=v.pageX,B=0):(B||(r.currentLandPos=r.translate3d().x,x=v.pageX),B=1),1==D&&(isExplorer&&r.children().css("height",u.slideHeight),r.savedSlide.wrapAll("<div class='itemslide_slideoutwrap' />"),D=-1),Math.abs(v.pageX-x)>6&&(!p&&r.end_animation&&(q=!0),cancelAnimationFrame(l)),Math.abs(v.pageY-y)>6&&!q&&r.end_animation&&(p=!0),q){if(t.disable_slide)return;p=!1,r.translate3d((0==B?C-x+(v.pageX-C)/4:v.pageX-x)+r.currentLandPos),r.trigger("changePos"),r.trigger("pan")}else p&&t.swipe_out&&(a.preventDefault(),$(".itemslide_slideoutwrap").translate3d(0,v.pageY-y),-1!=D&&(D=1))}function c(a){r.children(":nth-child("+(u.currentIndex+1||0)+")").attr("class",""),r.children(":nth-child("+(a+1||0)+")").attr("class","itemslide-active"),a!=t.currentIndex&&(u.currentIndex=a,r.trigger("changeActiveIndex"))}function d(a){for(var b=0;b<r.children("li").length;b++)if(r.children().outerWidth(!0)*b+r.children().outerWidth(!0)/2-r.children().outerWidth(!0)*t.pan_threshold*m-e(0)>a)return t.one_item?b!=u.currentIndex?u.currentIndex+1*m:u.currentIndex:b;return t.one_item?u.currentIndex+1:r.children("li").length-1}function e(a){return-a*r.children().outerWidth(!0)}function f(){var a=Math.floor(r.translate3d().x)>e(0)&&-1==m;return a}function g(){var a=r.children("li").length-1,b=parseInt(r.first().css("padding-left")),c=b+Math.ceil(r.translate3d().x)-r.parent().outerWidth(!0)<e(a)-r.children("li").last().outerWidth(!0)&&1==m;return c}function h(){return f()||g()}function i(a){var b=r.parent().outerWidth(!0),d=0;$.each(Array.prototype.reverse.call(r.children("li")),function(a,c){return b-=c.offsetWidth,0>=b?(d=a,!1):void 0});var f=r.children("li").length-d;a>=f||0>=a?(n=!0,a=Math.min(Math.max(a,0),f)):n=!1,c(a),G=Math.max(t.duration-1920/$(window).width()*Math.abs(u.velocity)*9*(t.duration/230)-(h()?o/15:0)*(t.duration/230),50),F=n?250*Math.abs(u.velocity)/$(window).width():0,k=r.translate3d().x,r.currentLandPos=e(a),cancelAnimationFrame(l),H=Date.now(),l=requestAnimationFrame(j)}function j(){var a=Date.now()-H;return r.trigger("changePos"),r.translate3d(k-easeOutBack(a,0,k-r.currentLandPos,G,F)),a>=G?void r.translate3d(r.currentLandPos):void(l=requestAnimationFrame(j))}var k=0,l=0,m=0,n=!1,o=0,p=!1,q=!1,r=this,s={duration:350,swipe_sensitivity:150,disable_slide:!1,disable_clicktoslide:!1,disable_scroll:!1,start:0,one_item:!1,pan_threshold:.3,disable_autowidth:!1,parent_width:!1,swipe_out:!1},t=$.extend({},s,a);t.parent_width&&r.children().width(r.parent().outerWidth(!0));var u={currentIndex:0,disable_autowidth:t.disable_autowidth,parent_width:t.parent_width,velocity:0,slideHeight:r.children().height()};r.end_animation=!0,t.swipe_out&&slideout(r,t,u),r.css({"touch-action":"pan-y","-webkit-user-select":"none","-webkit-touch-callout":"none","-webkit-user-drag":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}),t.disable_autowidth||r.css("width",r.children("li").length*r.children().outerWidth(!0)+10),r.translate3d(0),i(t.start);var v,w=!1,x=0,y=0,z=!1,A=0;r.savedSlideIndex=0,r.on("mousedown touchstart","li",function(a){v="touchstart"==a.type?null==$.fn.jquery?a.changedTouches[0]:a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:a,r.end_animation&&(A=Date.now(),w=1,z=0,x=v.pageX,y=v.pageY,p=!1,q=!1,r.savedSlide=$(this),r.savedSlideIndex=r.savedSlide.index(),D=0,$(window).on("mousemove touchmove",b),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty())});var B=!0,C=0,D=0;$(window).on("mouseup touchend",function(a){if(w){if(v="touchend"==a.type?null==$.fn.jquery?a.changedTouches[0]:a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:a,w=!1,$(window).off("mousemove touchmove"),p&&t.swipe_out)return p=!1,void r.swipeOut();if(r.end_animation&&!t.disable_slide){var b=Date.now()-A;if(u.velocity=-(v.pageX-x)/b,m=u.velocity>0?1:-1,o=(v.pageX-x)*m*-1,o>6)return void i(d(u.velocity*t.swipe_sensitivity-r.translate3d().x))}r.savedSlide.index()==u.currentIndex||t.disable_clicktoslide||(a.preventDefault(),i(r.savedSlide.index()))}});try{r.mousewheel(function(a){if(!t.disable_scroll&&!p){a.preventDefault();var b=u.currentIndex-((0==a.deltaX?a.deltaY:a.deltaX)>0?1:-1);if(b>=r.children("li").length||0>b)return;u.velocity=0,i(b)}})}catch(E){}var F=0,G=t.duration,H=Date.now();r.gotoWithoutAnimation=function(a){c(a),u.currentIndex=a,r.currentLandPos=e(a),r.translate3d(e(a))},r.gotoSlide=function(a){i(a)},r.next=function(){i(u.currentIndex+1)},r.previous=function(){i(u.currentIndex-1)},r.reload=function(){u.parent_width&&this.children().width(this.parent().outerWidth(!0)),u.disable_autowidth||this.css("width",this.children("li").length*this.children().outerWidth(!0)+10),u.slideHeight=this.children().height(),u.velocity=0,this.gotoWithoutAnimation(u.currentIndex)},r.addSlide=function(a){this.append("<li>"+a+"</li>"),this.reload()},r.removeSlide=function(a){this.children(":nth-child("+(a+1||0)+")").remove()},r.getActiveIndex=function(){return u.currentIndex},r.getCurrentPos=function(){return this.translate3d().x}},$.fn.translate3d=function(a,b){if(null==a){var c=matrixToArray(this.css("transform"));if(null!=$.fn.jquery)return{x:parseFloat(isExplorer?c[12]:c[4]),y:parseFloat(isExplorer?c[13]:c[5])};var d=this.css("transform").replace("translate3d","").replace("(","").replace(")","").replace(" ","").replace("px","").split(",");return{x:parseFloat(d[0]),y:parseFloat(d[1])}}this.css("transform","translate3d("+a+"px,"+(b||0)+"px, 0px)")}});